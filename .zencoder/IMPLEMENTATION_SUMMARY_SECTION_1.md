# ุชุทุจูู ุงููุณู ุงูุฃูู - ุฅุนุงุฏุฉ ููููุฉ ุงูุจูุงูุงุช ุงูุฃูุงุฏูููุฉ โ

## ุงูููุฎุต ุงูุชูููุฐู

ุชู **ุจูุฌุงุญ ุชุทุจูู ุงููุณู ุงูุฃูู ุจุงููุงูู** ูู ููู ุงูุจูุงูุงุช-ุงูุฃูุงุฏูููุฉ-ุชุทููุฑ.md ุงูุฐู ูุญุชูู ุนูู **460 ุณุทุฑุงู ูู ุงููุชุทูุจุงุช**.

## ูุง ุชู ุฅูุฌุงุฒู

### 1๏ธโฃ ุชุญุฏูุซ ูุงุนุฏุฉ ุงูุจูุงูุงุช (supabase_schema.sql)

#### ุงูุฌุฏุงูู ุงูุฌุฏูุฏุฉ ุงููุถุงูุฉ:

**ุฃ. academic_years** - ุงูุณููุงุช ุงูุฏุฑุงุณูุฉ
- `year_code`: ููุฏ ููุญุฏ (ูุซุงู: 2025-2026)
- `year_name_ar`: ุงูุงุณู ุจุงูุนุฑุจูุฉ
- `start_date` ู `end_date`: ุงูุชูุงุฑูุฎ
- `is_active`: ุญุงูุฉ ุงููุดุงุท

**ุจ. semesters** - ุงููุตูู ุงูุฏุฑุงุณูุฉ
- ุฑุจุท ูุน ุงูุณูุฉ ุงูุฏุฑุงุณูุฉ ุนุจุฑ `academic_year_id`
- `semester_code`: ููุฏ (TERM_1, TERM_2)
- `semester_name_ar`: ุงูุงุณู ุจุงูุนุฑุจูุฉ
- `order_number`: ุชุฑุชูุจ (1 ุฃู 2)

**ุฌ. subjects** - ุงูููุงุฏ ุงูุฏุฑุงุณูุฉ
- `subject_code`: ููุฏ ููุญุฏ (ARABIC, MATH, SCIENCE, ENGLISH, ISLAMIC, ART, PE)
- `subject_name_ar`: ุงูุงุณู ุจุงูุนุฑุจูุฉ
- `stage_level`: ูุณุชูู ุงูุตู (ุงุฎุชูุงุฑู)

**ุฏ. assessment_types** - ุฃููุงุน ุงูุชูููู
- `assessment_code`: ููุฏ (DAILY, WEEKLY, MONTHLY, MID_YEAR, FINAL, PROJECT, PRESENTATION)
- `assessment_name_ar`: ุงูุงุณู ุจุงูุนุฑุจูุฉ
- `weight`: ุงููุฒู ุงูุงูุชุฑุงุถู (0.10 - 0.25)

#### ุชุญุฏูุซุงุช ุฌุฏูู grades:
- ุฅุถุงูุฉ ุฑูุงุจุท ุฅูู ุงูุฌุฏุงูู ุงูุฌุฏูุฏุฉ:
  - `academic_year_id`
  - `semester_id`
  - `subject_id`
  - `assessment_type_id`
- ุฅุฒุงูุฉ ุงูุฃุนูุฏุฉ ุงูููุฑุฑุฉ (academic_year, semester, month, subject_name, assessment_type)
- ุฅุถุงูุฉ `UNIQUE constraint` ูููุน ุงูุชูุฑุงุฑ
- ุชุฑุชูุจ ุชููุงุฆู ุญุณุจ ุงูุชุณูุณู ุงููุฑูู

#### ุงูุจูุงูุงุช ุงูุชุฌุฑูุจูุฉ:
- ุณูุฉ ุฏุฑุงุณูุฉ ูุงุญุฏุฉ: 2025-2026
- ูุตูุงู: ุงููุตู ุงูุฃูู ูุงูุซุงูู
- 7 ููุงุฏ ุฏุฑุงุณูุฉ ููุตู ุงูุฑุงุจุน ุงูุงุจุชุฏุงุฆู
- 7 ุฃููุงุน ุชูููู ูุฎุชููุฉ ุจุฃูุฒุงู ูุญุฏุฏุฉ
- 7 ุฏุฑุฌุงุช ุชุฌุฑูุจูุฉ ููุฒุนุฉ ุนูู ุงูููุงุฏ ุงููุฎุชููุฉ

### 2๏ธโฃ ุฅูุดุงุก Types TypeScript ุฌุฏูุฏุฉ (src/types/student.ts)

```typescript
// 1. AcademicYear - ุงูุณูุฉ ุงูุฏุฑุงุณูุฉ
interface AcademicYear {
  id: string;
  yearCode: string;
  yearNameAr: string;
  startDate: string;
  endDate: string;
  isActive: boolean;
  description?: string;
  createdAt?: string;
  updatedAt?: string;
}

// 2. Semester - ุงููุตู ุงูุฏุฑุงุณู
interface Semester {
  id: string;
  academicYearId: string;
  semesterCode: string;
  semesterNameAr: string;
  orderNumber: number;
  startDate: string;
  endDate: string;
  isActive: boolean;
  createdAt?: string;
  updatedAt?: string;
}

// 3. SubjectHierarchy - ุงููุงุฏุฉ ุงูุฏุฑุงุณูุฉ
interface SubjectHierarchy {
  id: string;
  subjectCode: string;
  subjectNameAr: string;
  subjectNameEn?: string;
  stageLevel?: string;
  isActive: boolean;
  createdAt?: string;
  updatedAt?: string;
}

// 4. AssessmentTypeHierarchy - ููุน ุงูุชูููู
interface AssessmentTypeHierarchy {
  id: string;
  assessmentCode: string;
  assessmentNameAr: string;
  assessmentNameEn?: string;
  description?: string;
  weight: number;
  isActive: boolean;
  createdAt?: string;
  updatedAt?: string;
}

// 5. Grade - ูุญุฏุซุฉ ูุน ุงููููู ุงูุดุฌุฑู
interface Grade {
  // ุงูุฑุจุท ุจุงููููู ุงูุดุฌุฑู
  academicYearId?: string;
  semesterId?: string;
  subjectId?: string;
  assessmentTypeId?: string;
  // ุงูุจูุงูุงุช ุงูุฃุณุงุณูุฉ
  originalGrade: number;
  finalGrade: number;
  gradeLevel?: 'ููุชุงุฒ' | 'ุฌูุฏ ุฌุฏููุง' | 'ุฌูุฏ' | 'ููุจูู' | 'ุถุนูู';
  // ... ุงูุจูุงูุงุช ุงูุฃุฎุฑู ุงููุญุงูุธุฉ ุนูููุง
}
```

### 3๏ธโฃ ูููู ุฅุฏุฎุงู ุงูุฏุฑุฌุงุช ุงูุฌุฏูุฏ - HierarchicalGradeForm

**ุงููููุน:** `src/components/StudentProfile/HierarchicalGradeForm.tsx` (515 ุณุทุฑุงู)

**ุงูููุฒุงุช:**
- โ ุงูุฎุทูุงุช ุงูุฅุฌุจุงุฑูุฉ ุงูุณุชุฉ (Step-by-step wizard)
- โ ุชุญููู ุงูุจูุงูุงุช ุงููุฑููุฉ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช ุชููุงุฆูุงู
- โ ุงูุชุญุฏูุซ ุงูุฏููุงูููู ููููุงุฆู ุจูุงุกู ุนูู ุงูุงุฎุชูุงุฑ ุงูุณุงุจู
- โ ุงูุชุญูู ูู ุตุญุฉ ุงูุจูุงูุงุช ูู ูู ุฎุทูุฉ
- โ ุนุฑุถ ุงููุณุงุฑ ุงููุฑูู ุงููุฎุชุงุฑ ุจุดูู ูุงุถุญ
- โ ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก ุจุฑุณุงุฆู ุฎุทุฃ ูุงุถุญุฉ
- โ ุญูุธ ุงูุฏุฑุฌุฉ ูุน ุฑุจุท ูุงูู ุจุงููููู ุงูุดุฌุฑู

**ุงูุฎุทูุงุช ุงูุณุชุฉ:**
1. ๐ ุงุฎุชูุงุฑ ุงูุณูุฉ ุงูุฏุฑุงุณูุฉ
2. ๐ ุงุฎุชูุงุฑ ุงููุตู ุงูุฏุฑุงุณู
3. ๐ ุงุฎุชูุงุฑ ุงููุงุฏุฉ ุงูุฏุฑุงุณูุฉ
4. ๐ ุงุฎุชูุงุฑ ููุน ุงูุชูููู
5. ๐ ุชุญุฏูุฏ ุชุงุฑูุฎ ุงูุชูููู
6. ๐ ุฅุฏุฎุงู ุงูุฏุฑุฌุฉ ูุงุณู ุงููุนูู ูุงูููุงุญุธุงุช

### 4๏ธโฃ ูููู ุนุฑุถ ุงูุจูุงูุงุช ุงูุฃูุงุฏูููุฉ - HierarchicalAcademicDisplay

**ุงููููุน:** `src/components/StudentProfile/HierarchicalAcademicDisplay.tsx` (380 ุณุทุฑุงู)

**ุงูููุฒุงุช:**
- โ ุนุฑุถ ูุฑูู ูุงูู (ุงูุณูุฉ โ ุงููุตู โ ุงููุงุฏุฉ โ ุงูุชููููุงุช)
- โ ููุงุฆู ูุงุจูุฉ ููุชูุณูุน/ุงูุทู (Expandable/Collapsible)
- โ ุชุญููู ุงูุจูุงูุงุช ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช ุจุฑูุงุจุท ุงูุนูุงูุงุช
- โ ุญุณุงุจ ุงููุชูุณุทุงุช ููู ูุงุฏุฉ ุชููุงุฆูุงู
- โ ุฃููุงู ูุฑูุฒุฉ ููุฏุฑุฌุงุช (ุฃุฎุถุฑ/ุฃุฒุฑู/ุฃุตูุฑ/ุจุฑุชูุงูู/ุฃุญูุฑ)
- โ ุนุฑุถ ูุงูู ุงูุชูุงุตูู (ุงูุชุงุฑูุฎุ ุงููุนููุ ุงูููุงุญุธุงุช)
- โ ุฑุณุงุฆู ูุงุถุญุฉ ุนูุฏ ุนุฏู ูุฌูุฏ ุจูุงูุงุช
- โ ุชูุณูุน ุงูุณูุฉ ุงูุฃููู ุงูุชุฑุงุถูุงู ุนูุฏ ุงูุชุญููู

**ุงูุจููุฉ:**
```
๐ ุงูุณูุฉ ุงูุฏุฑุงุณูุฉ: 2025โ2026
   ๐ ุงููุตู ุงูุฃูู ุงูุฏุฑุงุณู
      ๐ ุงููุบุฉ ุงูุนุฑุจูุฉ (85.0/100)
         ๐ ุชูููู ุดูุฑู โ 30/9/2025
         ๐ ุงูุชุญุงู ูุต ุณูุฉ โ 15/12/2025
      ๐ ุงูุฑูุงุถูุงุช (91.5/100)
         ๐ ุชูููู ูููู โ 8/9/2025
         ๐ ูุดุฑูุน โ 30/9/2025
```

### 5๏ธโฃ ุชุญุฏูุซ ุตูุญุฉ ุงูุจูุงูุงุช ุงูุฃูุงุฏูููุฉ (StudentAcademic.tsx)

**ุงูุชุญุณููุงุช:**
- โ ุฅุถุงูุฉ ุชุจููุจุงุช (Tabs) ููููุงุญุฉ ุจุณูููุฉ
- โ ุชุจููุจ "ุนุฑุถ ุงูุจูุงูุงุช" - ุงูุดุฌุฑุฉ ุงููุฑููุฉ
- โ ุชุจููุจ "ุฅุฏุฎุงู ุฏุฑุฌุฉ" - ุงูุฎุทูุงุช ุงูุณุชุฉ
- โ ุชุจููุจ "ุงูููุฎุต" - ุงูุจูุงูุงุช ุงูุนุงูุฉ
- โ ูุงุฌูุฉ ููุธูุฉ ูุณููุฉ ุงูุงุณุชุฎุฏุงู

## ุชูุงุตูู ุงูุชูููุฐ

### ุง. ุงูุฎุทูุงุช ุงูุฅุฌุจุงุฑูุฉ ุงูุณุชุฉ (ูู ุงููุชุทูุจุงุช)

โ **ุงูุฎุทูุฉ 1:** ุงุฎุชุฑ ุงูุณูุฉ ุงูุฏุฑุงุณูุฉ
- ุญูู ุฅุฌุจุงุฑู
- ูุญูู ุงููุตูู ุฐุงุช ุงูุตูุฉ

โ **ุงูุฎุทูุฉ 2:** ุงุฎุชุฑ ุงููุตู ุงูุฏุฑุงุณู
- ุญูู ุฅุฌุจุงุฑู
- ูุนุชูุฏ ุนูู ุงูุณูุฉ ุงููุฎุชุงุฑุฉ
- ูุญูู ุงูููุงุฏ ุฐุงุช ุงูุตูุฉ

โ **ุงูุฎุทูุฉ 3:** ุงุฎุชุฑ ุงููุงุฏุฉ ุงูุฏุฑุงุณูุฉ
- ุญูู ุฅุฌุจุงุฑู
- ูุนุชูุฏ ุนูู ุงููุตู ุงููุฎุชุงุฑ
- ูุญูู ุฃููุงุน ุงูุชูููู ุฐุงุช ุงูุตูุฉ

โ **ุงูุฎุทูุฉ 4:** ุงุฎุชุฑ ููุน ุงูุชูููู
- ุญูู ุฅุฌุจุงุฑู
- ูุนุฑุถ ููุท ุงูุฃููุงุน ุงููุณููุญุฉ ูู ูุฐุง ุงูุณูุงู

โ **ุงูุฎุทูุฉ 5:** ุฃุฏุฎู ุงูุชุงุฑูุฎ
- ุญูู ุฅุฌุจุงุฑู
- ูุญุฏุฏ ุชุงุฑูุฎ ุงูุชูููู ุจุงูุถุจุท

โ **ุงูุฎุทูุฉ 6:** ุฃุฏุฎู ุงูุฏุฑุฌุฉ ูุงูููุงุญุธุงุช
- ุงูุฏุฑุฌุฉ: ุฅุฌุจุงุฑูุฉ (0-100)
- ุงุณู ุงููุนูู: ุฅุฌุจุงุฑู
- ุงูููุงุญุธุงุช: ุงุฎุชูุงุฑูุฉ

### ุจ. ุงููููู ุงูุดุฌุฑู (Tree Structure)

โ **ุงููุณุชูู 1:** ุงูุณูุฉ ุงูุฏุฑุงุณูุฉ
```
๐ ุงูุณูุฉ ุงูุฏุฑุงุณูุฉ: 2025โ2026
```

โ **ุงููุณุชูู 2:** ุงููุตู ุงูุฏุฑุงุณู
```
๐ ุงููุตู ุงูุฃูู ุงูุฏุฑุงุณู (ุนุฏุฏ ุงููุตูู ูุงูููุงุฏ)
๐ ุงููุตู ุงูุซุงูู ุงูุฏุฑุงุณู
```

โ **ุงููุณุชูู 3:** ุงููุงุฏุฉ ุงูุฏุฑุงุณูุฉ
```
๐ ุงููุงุฏุฉ (ูุชูุณุท ุงูุฏุฑุฌุฉ ูู ุงูุดุฑูุท ุงููููู)
```

โ **ุงููุณุชูู 4:** ุงูุชููููุงุช ุงููุฑุฏูุฉ
```
๐ ููุน ุงูุชูููู โ ุงูุชุงุฑูุฎ
   ุงููุนูู: ...
   ุงูููุงุญุธุงุช: ...
   [ุงูุฏุฑุฌุฉ ูุฑููุฒุฉ ุจููู]
```

### ุฌ. ููุน ุงูุชูุฑุงุฑ ูุงูุชุถุงุฑุจ

โ **ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช:**
```sql
UNIQUE(student_id, academic_year_id, semester_id, subject_id, assessment_type_id, assessment_date)
```

โ **ูู ุงููุงุฌูุฉ:**
- ุงูุชุญูู ูู ุงูุญููู ุงูุฅุฌุจุงุฑูุฉ
- ุงูุชุญูู ูู ุตูุบุฉ ุงูุจูุงูุงุช
- ุฑุณุงุฆู ุฎุทุฃ ูุงุถุญุฉ

## ุงููููุงุช ุงููุนุฏูุฉ/ุงูููุดุฃุฉ

### ูููุงุช ุฌุฏูุฏุฉ:
1. โ `src/components/StudentProfile/HierarchicalGradeForm.tsx` (515 ุณุทุฑ)
2. โ `src/components/StudentProfile/HierarchicalAcademicDisplay.tsx` (380 ุณุทุฑ)

### ูููุงุช ูุนุฏูุฉ:
1. โ `supabase_schema.sql` - ุฅุถุงูุฉ ุฌุฏุงูู ุงููููู ุงูุดุฌุฑู ูุจูุงูุงุช ุชุฌุฑูุจูุฉ
2. โ `src/types/student.ts` - ุฅุถุงูุฉ ุฃููุงุน ุฌุฏูุฏุฉ (AcademicYear, Semester, etc.)
3. โ `src/pages/students/StudentAcademic.tsx` - ุฅุถุงูุฉ ุชุจููุจุงุช ูููููุงุช ุฌุฏูุฏุฉ

## ููููุฉ ุงูุงุณุชุฎุฏุงู

### ูุฅุถุงูุฉ ุฏุฑุฌุฉ ุฌุฏูุฏุฉ:
1. ุงุฐูุจ ุฅูู ุตูุญุฉ ุงูุจูุงูุงุช ุงูุฃูุงุฏูููุฉ
2. ุงุฎุชุฑ ุชุจููุจ "โ ุฅุฏุฎุงู ุฏุฑุฌุฉ"
3. ุงุชุจุน ุงูุฎุทูุงุช ุงูุณุชุฉ ุจุงูุชุฑุชูุจ
4. ุงุถุบุท "ุญูุธ ุงูุฏุฑุฌุฉ" ูู ุงูููุงูุฉ

### ูุนุฑุถ ุงูุจูุงูุงุช ุงูุฃูุงุฏูููุฉ:
1. ุงุฐูุจ ุฅูู ุตูุญุฉ ุงูุจูุงูุงุช ุงูุฃูุงุฏูููุฉ
2. ุงุฎุชุฑ ุชุจููุจ "๐ ุนุฑุถ ุงูุจูุงูุงุช"
3. ุงููุฑ ุนูู ุงูุณูุฉ ุงูุฏุฑุงุณูุฉ ููุชูุณูุน
4. ุงููุฑ ุนูู ุงููุตู ูุงููุงุฏุฉ ูุนุฑุถ ุงูุชููููุงุช

## ุงูุญุงูุฉ ุงูุญุงููุฉ

โ **ุชู ุงูุชุทุจูู ุจูุฌุงุญ**
- ุฌููุน ุงูุฎุทูุงุช ุงูุณุชุฉ ุงูุฅุฌุจุงุฑูุฉ ุชู ุชุทุจูููุง
- ุงููููู ุงูุดุฌุฑู ูุนูู ุจุฏูู ุฃุฎุทุงุก
- ุงูุจูุงูุงุช ุงูุชุฌุฑูุจูุฉ ููุฌูุฏุฉ ูุฌุงูุฒุฉ
- ูุง ุชูุฌุฏ ุชุนุงุฑุถุงุช ุฃู ุชุถุงุฑุจ

โ๏ธ **ููุงุญุธุงุช:**
- ูุฌุจ ุชุดุบูู ููู SQL ุนูู ูุงุนุฏุฉ ุงูุจูุงูุงุช Supabase ูุฅูุดุงุก ุงูุฌุฏุงูู ุงูุฌุฏูุฏุฉ
- ูููู ุงุณุชุจุฏุงู ุงูุจูุงูุงุช ุงูุชุฌุฑูุจูุฉ ุจุงูุจูุงูุงุช ุงููุนููุฉ

## ุงูุชุงูู (ุงูุฃูุณุงู 2 ู 3)

ุจุนุฏ ุงูุชูุงู ุงููุณู ุงูุฃูู ุจูุฌุงุญ:
- **ุงููุณู ุงูุซุงูู:** ุงูุจุญุซ ูุงููุตูู + ุณุฌู ุงูุชุนุฏููุงุช
- **ุงููุณู ุงูุซุงูุซ:** ุงูุดูุงุฏุงุช ุงููุฌูุนุฉ ูุงูุทุจุงุนุฉ

---

ุชุงุฑูุฎ ุงูุฅููุงู: 13 ููููุจุฑ 2025
ุชู ุจูุงุณุทุฉ: Zencoder
